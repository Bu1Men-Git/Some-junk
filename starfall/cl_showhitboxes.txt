--@name cl_showhitboxes
--@author 
--@client
--add switch between all entities, certain types such as only props, players, or world, or just the entitiy you're looking at - currently only aim entity.
if player() != owner() then return end
enableHud(owner(),true)
    
hook.add('postdrawopaquerenderables', 'drawbox', function() 
    local aimTrace=owner():getEyeTrace()
    
    try(function() --removes any nil hitboxes that plaque most models
        if aimTrace.Entity:isValid() and aimTrace.Entity!=chip() then
            local boneCount=aimTrace.Entity:getHitBoxCount(0)
            
            render.setColor(Color(0,255,0,255)) 
            render.draw3DWireframeBox(aimTrace.Entity:getPos(),aimTrace.Entity:getAngles(),aimTrace.Entity:obbMins(),aimTrace.Entity:obbMaxs())
            for i=0,boneCount,1 do
                local min,max,_=aimTrace.Entity:getHitBoxBounds(i,0)
                local pos,ang=aimTrace.Entity:getBonePosition(aimTrace.Entity:getHitBoxBone(i,0))
                
                render.setColor(Color(pos.z+i/boneCount*20,1,1):hsvToRGB()) 
                render.draw3DWireframeBox(pos,ang,min,max)
            end
        end
    end)
end)